import * as dotenv from "dotenv";
import { ApolloServer } from "@apollo/server";
import { startStandaloneServer } from "@apollo/server/standalone";
import { generateTypeDefs } from "./graphql/type-defs";
import { generateResolvers } from "./graphql/resolvers";
dotenv.config();
;
export async function startApolloCouchServer(port, customTypeDefs, customResolvers) {
    const typeDefs = await generateTypeDefs(customTypeDefs);
    const resolvers = await generateResolvers();
    const server = new ApolloServer({ typeDefs, resolvers });
    const { url } = await startStandaloneServer(server, {
        listen: { port: port || 4000 },
        context: async () => {
            return {};
        }
    });
    console.log(`ğŸš€  Server ready at: ${url}`);
}
